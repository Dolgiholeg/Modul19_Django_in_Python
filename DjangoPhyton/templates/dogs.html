{% extends 'menu.html' %}

{% block menu %}
<h1 xmlns="http://www.w3.org/1999/html">ПОРОДЫ СОБАК</h1>
{% endblock %}

{% block content %}
    <!-- Форма для выбора количества постов на странице -->
    <form method="get" action="">
        <label for="posts_per_page">ВЫБЕРИТЕ КОЛИЧЕСТВО ПОСТОВ НА СТРАНИЦЕ:</label>
        <select name="posts_per_page" id="posts_per_page" onchange="this.form.submit()">
            <option></option>
            <option value="2" {% if posts_per_page == '2' %}selected{% endif %}>2</option>
            <option value="3" {% if posts_per_page == '3' %}selected{% endif %}>3</option>
            <option value="5" {% if posts_per_page == '5' %}selected{% endif %}>5</option>
            <option value="10" {% if posts_per_page == '10' %}selected{% endif %}>10</option>
        </select>

        <!-- Передаем номер страницы, если пользователь изменил количество постов -->
        <input type="hidden" name="page" value="{{ page_data.number }}">
    </form>
    <!-- Список собак -->
    <ul>
        {% for data in page_data %}
                <h1>{{ data.name }}</h1>
                <br>
                <div class="i"></div> <img src="{{ data.foto.url }}" width="500px" alt="Фото породы {{ data.name }}"></div>
                <br>
                <p>{{ data.description }}</p>

        {% empty %}
            <p>Нет доступных пород.</p>
        {% endfor %}
    </ul>

    <!-- Пагинация -->
    <div class="pagination">
        <p>Страницы:</p>

            {% if page_data.has_previous %}
            <button><a href="?page={{ page_data.previous_page_number }}&posts_per_page={{ posts_per_page }}">НАЗАД</a></button>
            {% endif %}

            <button>{{ page_data.number }} / {{ page_data.paginator.num_pages }}</button>

            {% if page_data.has_next %}
            <button><a href="?page={{ page_data.next_page_number }}&posts_per_page={{ posts_per_page }}">ВПЕРЁД</a></button>
            {% endif %}

    </div>
{% endblock %}
